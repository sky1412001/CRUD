{"ast":null,"code":"/*\n * Copyright 2022 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { Classes, DISPLAYNAME_PREFIX } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { PortalContext } from \"../../context/portal/portalProvider\";\n/** @deprecated will be removed in Blueprint v6.0 */\nvar PORTAL_LEGACY_CONTEXT_TYPES = {\n  blueprintPortalClassName: function (obj, key) {\n    if (obj[key] != null && typeof obj[key] !== \"string\") {\n      return new Error(Errors.PORTAL_CONTEXT_CLASS_NAME_STRING);\n    }\n    return undefined;\n  }\n};\n/**\n * Portal component.\n *\n * This component detaches its contents and re-attaches them to document.body.\n * Use it when you need to circumvent DOM z-stacking (for dialogs, popovers, etc.).\n * Any class names passed to this element will be propagated to the new container element on document.body.\n *\n * Portal supports both the newer React context API and the legacy context API.\n * Support for the legacy context API will be removed in Blueprint v6.0.\n *\n * @see https://blueprintjs.com/docs/#core/components/portal\n */\nexport function Portal(_a, legacyContext) {\n  var _b;\n  var className = _a.className,\n    stopPropagationEvents = _a.stopPropagationEvents,\n    container = _a.container,\n    onChildrenMount = _a.onChildrenMount,\n    children = _a.children;\n  if (legacyContext === void 0) {\n    legacyContext = {};\n  }\n  var context = React.useContext(PortalContext);\n  var portalContainer = (_b = container !== null && container !== void 0 ? container : context.portalContainer) !== null && _b !== void 0 ? _b : document === null || document === void 0 ? void 0 : document.body;\n  var _c = React.useState(),\n    portalElement = _c[0],\n    setPortalElement = _c[1];\n  var createPortalElement = React.useCallback(function () {\n    var newPortalElement = document.createElement(\"div\");\n    newPortalElement.classList.add(Classes.PORTAL);\n    maybeAddClass(newPortalElement.classList, className); // directly added to this portal element\n    maybeAddClass(newPortalElement.classList, context.portalClassName); // added via PortalProvider context\n    addStopPropagationListeners(newPortalElement, stopPropagationEvents);\n    // TODO: remove legacy context support in Blueprint v6.0\n    var blueprintPortalClassName = legacyContext.blueprintPortalClassName;\n    if (blueprintPortalClassName != null && blueprintPortalClassName !== \"\") {\n      console.error(Errors.PORTAL_LEGACY_CONTEXT_API);\n      maybeAddClass(newPortalElement.classList, blueprintPortalClassName); // added via legacy context\n    }\n\n    return newPortalElement;\n  }, [className, context.portalClassName, legacyContext.blueprintPortalClassName, stopPropagationEvents]);\n  // create the container element & attach it to the DOM\n  React.useEffect(function () {\n    if (portalContainer == null) {\n      return;\n    }\n    var newPortalElement = createPortalElement();\n    portalContainer.appendChild(newPortalElement);\n    setPortalElement(newPortalElement);\n    return function () {\n      removeStopPropagationListeners(newPortalElement, stopPropagationEvents);\n      newPortalElement.remove();\n      setPortalElement(undefined);\n    };\n  }, [portalContainer, createPortalElement, stopPropagationEvents]);\n  // wait until next successful render to invoke onChildrenMount callback\n  React.useEffect(function () {\n    if (portalElement != null) {\n      onChildrenMount === null || onChildrenMount === void 0 ? void 0 : onChildrenMount();\n    }\n  }, [portalElement, onChildrenMount]);\n  React.useEffect(function () {\n    if (portalElement != null) {\n      maybeAddClass(portalElement.classList, className);\n      return function () {\n        return maybeRemoveClass(portalElement.classList, className);\n      };\n    }\n    return undefined;\n  }, [className, portalElement]);\n  React.useEffect(function () {\n    if (portalElement != null) {\n      addStopPropagationListeners(portalElement, stopPropagationEvents);\n      return function () {\n        return removeStopPropagationListeners(portalElement, stopPropagationEvents);\n      };\n    }\n    return undefined;\n  }, [portalElement, stopPropagationEvents]);\n  // Only render `children` once this component has mounted in a browser environment, so they are\n  // immediately attached to the DOM tree and can do DOM things like measuring or `autoFocus`.\n  // See long comment on componentDidMount in https://reactjs.org/docs/portals.html#event-bubbling-through-portals\n  if (typeof document === \"undefined\" || portalElement == null) {\n    return null;\n  } else {\n    return ReactDOM.createPortal(children, portalElement);\n  }\n}\nPortal.displayName = \"\".concat(DISPLAYNAME_PREFIX, \".Portal\");\n// eslint-disable-next-line deprecation/deprecation\nPortal.contextTypes = PORTAL_LEGACY_CONTEXT_TYPES;\nfunction maybeRemoveClass(classList, className) {\n  if (className != null && className !== \"\") {\n    classList.remove.apply(classList, className.split(\" \"));\n  }\n}\nfunction maybeAddClass(classList, className) {\n  if (className != null && className !== \"\") {\n    classList.add.apply(classList, className.split(\" \"));\n  }\n}\nfunction addStopPropagationListeners(portalElement, eventNames) {\n  eventNames === null || eventNames === void 0 ? void 0 : eventNames.forEach(function (event) {\n    return portalElement.addEventListener(event, handleStopProgation);\n  });\n}\nfunction removeStopPropagationListeners(portalElement, events) {\n  events === null || events === void 0 ? void 0 : events.forEach(function (event) {\n    return portalElement.removeEventListener(event, handleStopProgation);\n  });\n}\nfunction handleStopProgation(e) {\n  e.stopPropagation();\n}","map":{"version":3,"names":["React","ReactDOM","Classes","DISPLAYNAME_PREFIX","Errors","PortalContext","PORTAL_LEGACY_CONTEXT_TYPES","blueprintPortalClassName","obj","key","Error","PORTAL_CONTEXT_CLASS_NAME_STRING","undefined","Portal","_a","legacyContext","className","stopPropagationEvents","container","onChildrenMount","children","context","useContext","portalContainer","_b","document","body","_c","useState","portalElement","setPortalElement","createPortalElement","useCallback","newPortalElement","createElement","classList","add","PORTAL","maybeAddClass","portalClassName","addStopPropagationListeners","console","error","PORTAL_LEGACY_CONTEXT_API","useEffect","appendChild","removeStopPropagationListeners","remove","maybeRemoveClass","createPortal","displayName","concat","contextTypes","apply","split","eventNames","forEach","event","addEventListener","handleStopProgation","events","removeEventListener","e","stopPropagation"],"sources":["/home/meander/Desktop/Akash/Workit/my-app/node_modules/@blueprintjs/core/src/components/portal/portal.tsx"],"sourcesContent":["/*\n * Copyright 2022 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nimport { Classes, DISPLAYNAME_PREFIX, Props } from \"../../common\";\nimport { ValidationMap } from \"../../common/context\";\nimport * as Errors from \"../../common/errors\";\nimport { PortalContext } from \"../../context/portal/portalProvider\";\n\nexport interface PortalProps extends Props {\n    /** Contents to send through the portal. */\n    children: React.ReactNode;\n\n    /**\n     * Callback invoked when the children of this `Portal` have been added to the DOM.\n     */\n    onChildrenMount?: () => void;\n\n    /**\n     * The HTML element that children will be mounted to.\n     *\n     * @default PortalProvider#portalContainer ?? document.body\n     */\n    container?: HTMLElement;\n\n    /**\n     * A list of DOM events which should be stopped from propagating through this portal element.\n     *\n     * @see https://legacy.reactjs.org/docs/portals.html#event-bubbling-through-portals\n     * @see https://github.com/palantir/blueprint/issues/6124\n     */\n    stopPropagationEvents?: Array<keyof HTMLElementEventMap>;\n}\n\nexport interface PortalLegacyContext {\n    /** Additional CSS classes to add to all `Portal` elements in this React context. */\n    blueprintPortalClassName?: string;\n}\n\n/** @deprecated will be removed in Blueprint v6.0 */\nconst PORTAL_LEGACY_CONTEXT_TYPES: ValidationMap<PortalLegacyContext> = {\n    blueprintPortalClassName: (obj: PortalLegacyContext, key: keyof PortalLegacyContext) => {\n        if (obj[key] != null && typeof obj[key] !== \"string\") {\n            return new Error(Errors.PORTAL_CONTEXT_CLASS_NAME_STRING);\n        }\n        return undefined;\n    },\n};\n\n/**\n * Portal component.\n *\n * This component detaches its contents and re-attaches them to document.body.\n * Use it when you need to circumvent DOM z-stacking (for dialogs, popovers, etc.).\n * Any class names passed to this element will be propagated to the new container element on document.body.\n *\n * Portal supports both the newer React context API and the legacy context API.\n * Support for the legacy context API will be removed in Blueprint v6.0.\n *\n * @see https://blueprintjs.com/docs/#core/components/portal\n */\nexport function Portal(\n    { className, stopPropagationEvents, container, onChildrenMount, children }: PortalProps,\n    legacyContext: PortalLegacyContext = {},\n) {\n    const context = React.useContext(PortalContext);\n\n    const portalContainer = container ?? context.portalContainer ?? document?.body;\n\n    const [portalElement, setPortalElement] = React.useState<HTMLElement>();\n\n    const createPortalElement = React.useCallback(() => {\n        const newPortalElement = document.createElement(\"div\");\n        newPortalElement.classList.add(Classes.PORTAL);\n        maybeAddClass(newPortalElement.classList, className); // directly added to this portal element\n        maybeAddClass(newPortalElement.classList, context.portalClassName); // added via PortalProvider context\n        addStopPropagationListeners(newPortalElement, stopPropagationEvents);\n\n        // TODO: remove legacy context support in Blueprint v6.0\n        const blueprintPortalClassName = legacyContext.blueprintPortalClassName;\n        if (blueprintPortalClassName != null && blueprintPortalClassName !== \"\") {\n            console.error(Errors.PORTAL_LEGACY_CONTEXT_API);\n            maybeAddClass(newPortalElement.classList, blueprintPortalClassName); // added via legacy context\n        }\n\n        return newPortalElement;\n    }, [className, context.portalClassName, legacyContext.blueprintPortalClassName, stopPropagationEvents]);\n\n    // create the container element & attach it to the DOM\n    React.useEffect(() => {\n        if (portalContainer == null) {\n            return;\n        }\n        const newPortalElement = createPortalElement();\n        portalContainer.appendChild(newPortalElement);\n        setPortalElement(newPortalElement);\n\n        return () => {\n            removeStopPropagationListeners(newPortalElement, stopPropagationEvents);\n            newPortalElement.remove();\n            setPortalElement(undefined);\n        };\n    }, [portalContainer, createPortalElement, stopPropagationEvents]);\n\n    // wait until next successful render to invoke onChildrenMount callback\n    React.useEffect(() => {\n        if (portalElement != null) {\n            onChildrenMount?.();\n        }\n    }, [portalElement, onChildrenMount]);\n\n    React.useEffect(() => {\n        if (portalElement != null) {\n            maybeAddClass(portalElement.classList, className);\n            return () => maybeRemoveClass(portalElement.classList, className);\n        }\n        return undefined;\n    }, [className, portalElement]);\n\n    React.useEffect(() => {\n        if (portalElement != null) {\n            addStopPropagationListeners(portalElement, stopPropagationEvents);\n            return () => removeStopPropagationListeners(portalElement, stopPropagationEvents);\n        }\n        return undefined;\n    }, [portalElement, stopPropagationEvents]);\n\n    // Only render `children` once this component has mounted in a browser environment, so they are\n    // immediately attached to the DOM tree and can do DOM things like measuring or `autoFocus`.\n    // See long comment on componentDidMount in https://reactjs.org/docs/portals.html#event-bubbling-through-portals\n    if (typeof document === \"undefined\" || portalElement == null) {\n        return null;\n    } else {\n        return ReactDOM.createPortal(children, portalElement);\n    }\n}\n\nPortal.displayName = `${DISPLAYNAME_PREFIX}.Portal`;\n// eslint-disable-next-line deprecation/deprecation\nPortal.contextTypes = PORTAL_LEGACY_CONTEXT_TYPES;\n\nfunction maybeRemoveClass(classList: DOMTokenList, className?: string) {\n    if (className != null && className !== \"\") {\n        classList.remove(...className.split(\" \"));\n    }\n}\n\nfunction maybeAddClass(classList: DOMTokenList, className?: string) {\n    if (className != null && className !== \"\") {\n        classList.add(...className.split(\" \"));\n    }\n}\n\nfunction addStopPropagationListeners(portalElement: HTMLElement, eventNames?: Array<keyof HTMLElementEventMap>) {\n    eventNames?.forEach(event => portalElement.addEventListener(event, handleStopProgation));\n}\n\nfunction removeStopPropagationListeners(portalElement: HTMLElement, events?: Array<keyof HTMLElementEventMap>) {\n    events?.forEach(event => portalElement.removeEventListener(event, handleStopProgation));\n}\n\nfunction handleStopProgation(e: Event) {\n    e.stopPropagation();\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}